<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="@cond !DOC_EXCLUDE_HEADER_SECTION task. h @code{c} BaseType_t xTaskDelayUntil( TickType_t *pxPreviousWakeTime, const TickType_t xTimeIncrement ); @endcode @endcond"><title>xTaskDelayUntil in esp_idf_hal::sys - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="esp_idf_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0-nightly (aa1a71e9e 2023-10-26)" data-channel="nightly" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f34af1a0ee6bacd.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../esp_idf_hal/index.html">esp_idf_hal</a><span class="version">0.42.2</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In esp_idf_hal::sys</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../index.html">esp_idf_hal</a>::<wbr><a href="index.html">sys</a>::<wbr><a class="fn" href="#">xTaskDelayUntil</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-1430aef94f15d66e/out/bindings.rs.html#16455-16458">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn xTaskDelayUntil(
    pxPreviousWakeTime: *mut u32,
    xTimeIncrement: u32
) -&gt; i32</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>@cond !DOC_EXCLUDE_HEADER_SECTION
task. h
@code{c}
BaseType_t xTaskDelayUntil( TickType_t *pxPreviousWakeTime, const TickType_t xTimeIncrement );
@endcode
@endcond</p>
<p>INCLUDE_xTaskDelayUntil must be defined as 1 for this function to be available.
See the configuration section for more information.</p>
<p>Delay a task until a specified time.  This function can be used by periodic
tasks to ensure a constant execution frequency.</p>
<p>This function differs from vTaskDelay () in one important aspect:  vTaskDelay () will
cause a task to block for the specified number of ticks from the time vTaskDelay () is
called.  It is therefore difficult to use vTaskDelay () by itself to generate a fixed
execution frequency as the time between a task starting to execute and that task
calling vTaskDelay () may not be fixed [the task may take a different path though the
code between calls, or may get interrupted or preempted a different number of times
each time it executes].</p>
<p>Whereas vTaskDelay () specifies a wake time relative to the time at which the function
is called, xTaskDelayUntil () specifies the absolute (exact) time at which it wishes to
unblock.</p>
<p>The macro pdMS_TO_TICKS() can be used to calculate the number of ticks from a
time specified in milliseconds with a resolution of one tick period.</p>
<p>@param pxPreviousWakeTime Pointer to a variable that holds the time at which the
task was last unblocked.  The variable must be initialised with the current time
prior to its first use (see the example below).  Following this the variable is
automatically updated within xTaskDelayUntil ().</p>
<p>@param xTimeIncrement The cycle time period.  The task will be unblocked at
time *pxPreviousWakeTime + xTimeIncrement.  Calling xTaskDelayUntil with the
same xTimeIncrement parameter value will cause the task to execute with
a fixed interface period.</p>
<p>@return Value which can be used to check whether the task was actually delayed.
Will be pdTRUE if the task way delayed and pdFALSE otherwise.  A task will not
be delayed if the next expected wake time is in the past.</p>
<p>Example usage:
@code{c}
// Perform an action every 10 ticks.
void vTaskFunction( void * pvParameters )
{
TickType_t xLastWakeTime;
const TickType_t xFrequency = 10;
BaseType_t xWasDelayed;</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Initialise the xLastWakeTime variable with the current time.
</span>xLastWakeTime = xTaskGetTickCount ();
<span class="kw">for</span>( ;; )
{
    <span class="comment">// Wait for the next cycle.
    </span>xWasDelayed = xTaskDelayUntil( <span class="kw-2">&amp;</span>xLastWakeTime, xFrequency );

    <span class="comment">// Perform action here. xWasDelayed value can be used to determine
    // whether a deadline was missed if the code here took too long.
</span>}</code></pre></div>
<p>}
@endcode
@cond !DOC_SINGLE_GROUP
\defgroup xTaskDelayUntil xTaskDelayUntil
@endcond
\ingroup TaskCtrl</p>
</div></details></section></div></main></body></html>