<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="\brief            Parse a single DER formatted certificate and add it to the end of the provided chained list."><title>mbedtls_x509_crt_parse_der_with_ext_cb in esp_idf_hal::sys - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="esp_idf_hal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0-nightly (aa1a71e9e 2023-10-26)" data-channel="nightly" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f34af1a0ee6bacd.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../esp_idf_hal/index.html">esp_idf_hal</a><span class="version">0.42.2</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In esp_idf_hal::sys</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../index.html">esp_idf_hal</a>::<wbr><a href="index.html">sys</a>::<wbr><a class="fn" href="#">mbedtls_x509_crt_parse_der_with_ext_cb</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-1430aef94f15d66e/out/bindings.rs.html#47092-47099">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn mbedtls_x509_crt_parse_der_with_ext_cb(
    chain: *mut <a class="struct" href="struct.mbedtls_x509_crt.html" title="struct esp_idf_hal::sys::mbedtls_x509_crt">mbedtls_x509_crt</a>,
    buf: *const u8,
    buflen: usize,
    make_copy: i32,
    cb: Option&lt;unsafe extern &quot;C&quot; fn(_: *mut c_void, _: *const <a class="struct" href="struct.mbedtls_x509_crt.html" title="struct esp_idf_hal::sys::mbedtls_x509_crt">mbedtls_x509_crt</a>, _: *const <a class="struct" href="struct.mbedtls_asn1_buf.html" title="struct esp_idf_hal::sys::mbedtls_asn1_buf">mbedtls_asn1_buf</a>, _: i32, _: *const u8, _: *const u8) -&gt; i32&gt;,
    p_ctx: *mut c_void
) -&gt; i32</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>\brief            Parse a single DER formatted certificate and add it
to the end of the provided chained list.</p>
<p>\note             If #MBEDTLS_USE_PSA_CRYPTO is enabled, the PSA crypto
subsystem must have been initialized by calling
psa_crypto_init() before calling this function.</p>
<p>\param chain      The pointer to the start of the CRT chain to attach to.
When parsing the first CRT in a chain, this should point
to an instance of ::mbedtls_x509_crt initialized through
mbedtls_x509_crt_init().
\param buf        The buffer holding the DER encoded certificate.
\param buflen     The size in Bytes of \p buf.
\param make_copy  When not zero this function makes an internal copy of the
CRT buffer \p buf. In particular, \p buf may be destroyed
or reused after this call returns.
When zero this function avoids duplicating the CRT buffer
by taking temporary ownership thereof until the CRT
is destroyed (like mbedtls_x509_crt_parse_der_nocopy())
\param cb         A callback invoked for every unsupported certificate
extension.
\param p_ctx      An opaque context passed to the callback.</p>
<p>\note             This call is functionally equivalent to
mbedtls_x509_crt_parse_der(), and/or
mbedtls_x509_crt_parse_der_nocopy()
but it calls the callback with every unsupported
certificate extension and additionally the
“certificate policies” extension if it contains any
unsupported certificate policies.
The callback must return a negative error code if it
does not know how to handle such an extension.
When the callback fails to parse a critical extension
mbedtls_x509_crt_parse_der_with_ext_cb() also fails.
When the callback fails to parse a non critical extension
mbedtls_x509_crt_parse_der_with_ext_cb() simply skips
the extension and continues parsing.
Future versions of the library may invoke the callback
in other cases, if and when the need arises.</p>
<p>\return           \c 0 if successful.
\return           A negative error code on failure.</p>
</div></details></section></div></main></body></html>